@model IEnumerable<RIME.Models.Evidence>
<!DOCTYPE html>
<html >
<head>`
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Piccolo Theme</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- CSS
    ================================================== -->
    <link href='http://fonts.googleapis.com/css?family=Oswald' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/css/bootstrap.css">
    <link rel="stylesheet" href="/css/bootstrap-responsive.css">
    <link rel="stylesheet" href="/css/prettyPhoto.css" />
    <link rel="stylesheet" href="/css/flexslider.css" />
    <link rel="stylesheet" href="/css/custom-styles.css">
    <link rel="stylesheet" href="/css/marquee.css" >
    <!--[if lt IE 9]>
        <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <link rel="stylesheet" href="css/style-ie.css"/>
    <![endif]-->
    <!-- Favicons
    ================================================== -->
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="apple-touch-icon" href="/img/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png">

    <!-- JS
                    ================================================== -->
    @*<script src="/js/jquery-1.11.2.min.js"></script>*@
    <script src="http://code.jquery.com/jquery-1.8.3.min.js"></script>
    <script src="/js/jquery.easing.1.3.js"></script>
    <script src="/js/bootstrap.js"></script>
    <script src="/js/jquery.prettyPhoto.js"></script>
    <script src="/js/jquery.flexslider.js"></script>
    <script src="/js/jquery.quicksand.js"></script>
    <script src="/js/jquery.custom.js"></script>
    <script src="/js/jquery.marquee.js"></script>

    

</head>


<body class="home">
    <!-- Color Bars (above header)-->




    <div class="row headline">
        <!-- Begin Headline -->
        <!-- Slider Carousel
        ================================================== -->
        <div class="span8">
            <div class="flexslider">
                <ul class="slides">
                    <li><a href="#"><img class="slider-image" src="/img/gallery/slide1.jpg" alt="slider" /></a></li>
                    <li><a href="#"><img class="slider-image" src="/img/gallery/slide2.jpg" alt="slider" /></a></li>
                    <li><a href="#"><img class="slider-image" src="/img/gallery/slide5.jpg" alt="slider" /></a></li>
                    <li><a href="#"><img class="slider-image" src="/img/gallery/slide4.jpg" alt="slider" /></a></li>
                    <li><a href="#"><img class="slider-image" src="/img/gallery/slide3.jpg" alt="slider" /></a></li>
                </ul>
            </div>
            <div class="container-marquee">
                <div class="marquee-sibling"> World News </div>
                <div class="marquee">
                    <ul id="news_list" class="marquee-content-items"></ul>
                </div>
            </div>
        </div>



        <!-- Headline Text
        ================================================== -->
        <div class="span4">
            <h3>
                Welcome to Rime. <br />
                The Reality in the Middle East is brought to you.
            </h3>
            <p class="lead">We collected highly valuated videos about the happening in the Middle East.</p>
            <p>Things you see from there, not necessary reflects the truth.</p>
            <a href="/Blog"><i class="icon-plus-sign"></i>Read More</a>
        </div>
    </div><!-- End Headline -->

        <div class="row">
            <!-- Gallery Items
            ================================================== -->
            <div class="span12 gallery">
                <h5 class="title-bg">
                    Recent Stories
                    <small>This Really Happened</small>
                    @*<button class="btn btn-mini btn-inverse hidden-phone" type="button">View Gallery</button>*@
                </h5>
                <ul id="filterOptions" class="gallery-cats clearfix">
                    <li class="active"><a href="#" class="all">All</a></li>
                    <li><a href="#" class="Media">Media</a></li>
                    <li><a href="#" class="World">World</a></li>
                    <li><a href="#" class="Clip">Clip</a></li>
                    <li><a href="#" class="Figure">Figure</a></li>
                </ul>
                <div class="row clearfix">
                    <ul class="gallery-post-grid holder">
                        @foreach (var evidence in Model.Reverse().Take(6))
                        {
                            <li class="span4 gallery-item" data-id="id-@evidence.EvidenceId" data-type="@evidence.Tags.FirstOrDefault().Categoty">
                                @*<span class="gallery-hover-3col hidden-phone hidden-tablet">
                                    <iframe src="@evidence.EvidencePath" width="368" height="350" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
                                </span>*@
                            <iframe src="@evidence.EvidencePath" width="368" height="350"></iframe>
                            @*<img src="@evidence.EvidencePic" alt="Gallery" width="368" height="500" >*@
                            <span class="project-details">@Html.ActionLink(evidence.Title, "Evidence", "Blog", new { id = evidence.EvidenceId }, "")@evidence.Prolog</span>
                        </li>
                    }

                </ul>
            </div>
        </div>

                <div class="row">
                    <!-- Begin Bottom Section -->
                    <!-- Blog Preview
                    ================================================== -->
                    <div class="span6">
                        <h5 class="title-bg">
                            Evidences 
                            <small>All around the world</small>
                        </h5>
                        <div id="blogCarousel" class="carousel slide ">
                            <div id="googleMap" style="width:100%;height:250px;"></div>
                        </div>
                    </div>

                    <!-- Client Area
                    ================================================== -->
                    <div class="span6">
                        <h5 class="title-bg">
                            Leading Quotes
                            <small>From The Field</small>
                            <button id="btn-client-next" class="btn btn-inverse btn-mini" type="button">&raquo;</button>
                            <button id="btn-client-prev" class="btn btn-inverse btn-mini" type="button">&laquo;</button>
                        </h5>
                        <!-- Client Testimonial Slider-->
                        <div id="clientCarousel" class="carousel slide no-margin">
                            <!-- Carousel items -->
                            <div class="carousel-inner">
                                
                                @foreach (var evidence in Model.Reverse().Take(6)) {
                                    if (evidence.EvidenceId % 5 == 0)
                                    {
                                        <div class="active item">
                                           <p class="quote-text">"@evidence.Quote"<cite>- <a href="/Blog/Evidence/@evidence.EvidenceId">@evidence.Title</a></cite></p>
                                        </div>
                                    }

                                   else 
                                    {
                                        <div class="item">
                                            <p class="quote-text">"@evidence.Quote"<cite>- <a href="/Blog/Evidence/@evidence.EvidenceId">@evidence.Title</a></cite></p>
                                        </div>

                                        }
                                    }

                            </div>
                        </div>
                        <!-- Client Logo Thumbs-->
                        <ul class="client-logos">
                            <!--Till we have speakers column in evidences... future feature-->
                            @*@foreach (var photo in Model.Reverse().Take(5))
                            {
                                <li><a href="/Blog/Evidence/@photo.EvidenceId" class="client-link"><img src="@photo.EvidencePic" class="img-circle" alt="Speaker" width="96" height="96"></a></li>
                            }*@
                            <br />
                            <li><a href="https://en.wikipedia.org/wiki/Golda_Meir" class="client-link"><img src="/img/meir_go.jpg" class="img-circle" alt="Speaker"></a></li>
                            <li><a href="https://en.wikipedia.org/wiki/Bassem_Eid" class="client-link"><img src="/img/Bassam-Eid.jpg" class="img-circle" alt="Speaker"></a></li>
                            <li><a href="https://en.wikipedia.org/wiki/Nikki_Haley" class="client-link"><img src="/img/Nikki_Haley.jpg" class="img-circle" alt="Speaker"></a></li>
                            <li><a href="https://en.wikipedia.org/wiki/Conan_O%27Brien" class="client-link"><img src="/img/conan.jpg" class="img-circle" alt="Speaker"></a></li>
                            <li><a href="https://en.wikipedia.org/wiki/Mubarak_al_Fadil_al_Mahdi" class="client-link"><img src="/img/MubarkAlFadil.jpg" class="img-circle" alt="Speaker"></a></li>
                        </ul>
                    </div>

        </div><!-- End Bottom Section -->

    </div> <!-- End Container -->

    <script>
        function myMap() {
            var mapProp = {
                center: new google.maps.LatLng(33.2707719, -23.4057917),
                zoom: 1,
            };
            var map = new google.maps.Map(document.getElementById("googleMap"), mapProp);
            var infowindow = new google.maps.InfoWindow();

            var geocoder = new google.maps.Geocoder();

            $.get("/Home/GetAllEvidenses", function (data) {
                for (i = 0; i < data.length; i++) {
                    geocodeAddress(geocoder, map, data[i]);
                }
            });

            function geocodeAddress(geocoder, map, item) {
                geocoder.geocode({ 'address': item.EvidenceLocation }, function (results, status) {
                    if (status === 'OK') {

                        var marker = new google.maps.Marker({
                            map: map,
                            position: results[0].geometry.location
                        });

                        google.maps.event.addListener(marker, 'click', (function (marker, i) {
                            return function () {
                                //var content = <%= Html.ActionLink(item.Title, "Evidence", new { id = item.EvidenceId })) %>
                                //TODO: Change url to action link \/.
                                var contentString = '<a href=/Blog/Evidence/' + item.EvidenceId + '>' + item.Title + '</a>';
                                infowindow.setContent(contentString);
                                infowindow.open(map, marker);
                            }
                        })(marker, i));


                    } else {
                        // alert('Geocode was not successful for the following reason: ' + status);
                    }
                });
            }

        }
    </script>

    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC7PRVkxVSw6hjmb7u9ofZqLtqTC26IQp0&callback=myMap"></script>
    <script type="text/javascript">

        $(document).ready(function () {

            $("#btn-blog-next").click(function () {
                $('#blogCarousel').carousel('next')
            });
            $("#btn-blog-prev").click(function () {
                $('#blogCarousel').carousel('prev')
            });

            $("#btn-client-next").click(function () {
                $('#clientCarousel').carousel('next')
            });
            $("#btn-client-prev").click(function () {
                $('#clientCarousel').carousel('prev')
            });

        });

        $(window).load(function () {

            $('.flexslider').flexslider({
                animation: "slide",
                slideshow: true,
                start: function (slider) {
                    $('body').removeClass('loading');
                }
            });
        });

    </script>
    <script type="text/javascript">
        $(function () {
            createMarquee({

                // controls the speed at which the marquee moves
                duration: 105000,
                container_class: '.container-marquee',
                // right margin between consecutive marquees
                padding: 20,
                // Boolean to indicate whether pause on hover should is required.
                hover: true

            });
        });
    </script>
    <script type="text/javascript">
            var news_api = "https://newsapi.org/v1/articles";
            var apiKey = "0ac3be8cfcb149828743260b027ea0ea";
            var sources = ["bbc-news", "al-jazeera-english", "cnn"];
            for (var s in sources) {
                var source = sources[s];
                $.get(news_api, {
                    "apiKey": apiKey,
                    "source": source
                }, function (data, status) {
                    for (var d in data.articles) {
                        var title = data.articles[d].title;
                        var publishedAt = data.articles[d].publishedAt;
                        console.log(title)
                        console.log(source.toUpperCase())
                        $("#news_list").append("<li>" + source.toUpperCase() + " : " + title + "</li>")
                    }
                })
            };


    </script>
</body>

</html>